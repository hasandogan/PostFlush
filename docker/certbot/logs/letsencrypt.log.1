2022-09-22 19:23:52,273:DEBUG:certbot._internal.main:certbot version: 1.30.0
2022-09-22 19:23:52,273:DEBUG:certbot._internal.main:Location of certbot entry point: /usr/local/bin/certbot
2022-09-22 19:23:52,273:DEBUG:certbot._internal.main:Arguments: ['--webroot', '--webroot-path=/var/www/certbot', '--email', 'your-email@domain.com', '--agree-tos', '--no-eff-email', '-d', 'domain.com', '-d', 'www.domain.com']
2022-09-22 19:23:52,273:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2022-09-22 19:23:52,283:DEBUG:certbot._internal.log:Root logging level set at 30
2022-09-22 19:23:52,284:DEBUG:certbot._internal.plugins.selection:Requested authenticator webroot and installer None
2022-09-22 19:23:52,287:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * webroot
Description: Place files in webroot directory
Interfaces: Authenticator, Plugin
Entry point: webroot = certbot._internal.plugins.webroot:Authenticator
Initialized: <certbot._internal.plugins.webroot.Authenticator object at 0x7fb62ad7f5b0>
Prep: True
2022-09-22 19:23:52,287:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot._internal.plugins.webroot.Authenticator object at 0x7fb62ad7f5b0> and installer None
2022-09-22 19:23:52,287:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator webroot, Installer None
2022-09-22 19:23:52,666:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.
2022-09-22 19:23:52,667:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443
2022-09-22 19:23:53,409:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "GET /directory HTTP/1.1" 200 659
2022-09-22 19:23:53,410:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:53 GMT
Content-Type: application/json
Content-Length: 659
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "BvHSCHx1SN4": "https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417",
  "keyChange": "https://acme-v02.api.letsencrypt.org/acme/key-change",
  "meta": {
    "caaIdentities": [
      "letsencrypt.org"
    ],
    "termsOfService": "https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf",
    "website": "https://letsencrypt.org"
  },
  "newAccount": "https://acme-v02.api.letsencrypt.org/acme/new-acct",
  "newNonce": "https://acme-v02.api.letsencrypt.org/acme/new-nonce",
  "newOrder": "https://acme-v02.api.letsencrypt.org/acme/new-order",
  "revokeCert": "https://acme-v02.api.letsencrypt.org/acme/revoke-cert"
}
2022-09-22 19:23:53,410:DEBUG:acme.client:Requesting fresh nonce
2022-09-22 19:23:53,410:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.
2022-09-22 19:23:53,614:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "HEAD /acme/new-nonce HTTP/1.1" 200 0
2022-09-22 19:23:53,614:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:53 GMT
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0102M9qjGtf6YrmvaUqFG9V3aaxk7Tow49PDjtnfxydfSlY
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800


2022-09-22 19:23:53,614:DEBUG:acme.client:Storing nonce: 0102M9qjGtf6YrmvaUqFG9V3aaxk7Tow49PDjtnfxydfSlY
2022-09-22 19:23:53,614:DEBUG:acme.client:JWS payload:
b'{\n  "contact": [\n    "mailto:your-email@domain.com"\n  ],\n  "termsOfServiceAgreed": true\n}'
2022-09-22 19:23:53,616:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-acct:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAiandrIjogeyJuIjogInp4d2RPaVZoUmpIOUUyVUFwdjZycFRhYmZQaGh5WTh1UG14ajFKWnRmV196aDZXMUR5WlFJaU1pSjJwVkxaX1BaXzFTRmIydmlrTWpBejhiaVhCZ1p4dVVZZFNHOVJjSE94V0VOTGxkakI0djR5WUNONkExeVJKamU1YkJsUXFCMmVQaGNtMzNVR0R1Zld4em02bEdhVUE1Y0RpQUJ6c29Jb3ZYN2o4YUtyOElSSzFHeFdGQVlZTWFJSDVmYS15QV9uclVaX2g1azdyczlxWUtYYjR1c2NNVUZTRmk2MmRrdEtQdTZvYmtHMFpYcndzcC13LWJXbnMyTkg5NzZ1NnJZNDN4bDM2YW5YVFZWNWJScVZYQktJc3l1VVl6SjVrS1EtbF9QdHZtWG1QMjkzVlVtNUpuWVFkSEhTN3JWM2tPS2I3WHZ1Mzg1SkVidk5jME1ISzhPdyIsICJlIjogIkFRQUIiLCAia3R5IjogIlJTQSJ9LCAibm9uY2UiOiAiMDEwMk05cWpHdGY2WXJtdmFVcUZHOVYzYWF4azdUb3c0OVBEanRuZnh5ZGZTbFkiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL25ldy1hY2N0In0",
  "signature": "QK2jFwfDU-zUn_hdes-6ehjRUJkeyY9Qbw1PTaVFyoXXZoEdnEgTu1Kq_-7y1SpTMwDde_ojdQX8p0YF5oaM3dtcEKL2Ax4j4h979jN9SZVNyCFuvcjG4bNx5BCJta42VdAjU0tt0zE4tVWQ0e9chsf3nc2aTFxZ7RNm6g06N79seeBaRPAGOwdbxB12nxyg2_pqgp9kl5aL63tgxITg7gQBWtFn-dGKQx3nkassMyRBYg1aHkxTV9ZisLNGTEQgjbl2_UGpXODBgc1iQ1nnX-FukuWyulr_eYd9AEdOXkgA6RldLg2xZW_nJQLznS1l6NDbCwyMMEEY8mKslRb6hA",
  "payload": "ewogICJjb250YWN0IjogWwogICAgIm1haWx0bzp5b3VyLWVtYWlsQGRvbWFpbi5jb20iCiAgXSwKICAidGVybXNPZlNlcnZpY2VBZ3JlZWQiOiB0cnVlCn0"
}
2022-09-22 19:23:53,920:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/new-acct HTTP/1.1" 201 565
2022-09-22 19:23:53,921:DEBUG:acme.client:Received response:
HTTP 201
Server: nginx
Date: Thu, 22 Sep 2022 19:23:53 GMT
Content-Type: application/json
Content-Length: 565
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index", <https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf>;rel="terms-of-service"
Location: https://acme-v02.api.letsencrypt.org/acme/acct/744052787
Replay-Nonce: 0102DJ9wQ2mibrAhtHJUMIgDN1gUzzOsf4JI-2lkGjULOcA
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "key": {
    "kty": "RSA",
    "n": "zxwdOiVhRjH9E2UApv6rpTabfPhhyY8uPmxj1JZtfW_zh6W1DyZQIiMiJ2pVLZ_PZ_1SFb2vikMjAz8biXBgZxuUYdSG9RcHOxWENLldjB4v4yYCN6A1yRJje5bBlQqB2ePhcm33UGDufWxzm6lGaUA5cDiABzsoIovX7j8aKr8IRK1GxWFAYYMaIH5fa-yA_nrUZ_h5k7rs9qYKXb4uscMUFSFi62dktKPu6obkG0ZXrwsp-w-bWns2NH976u6rY43xl36anXTVV5bRqVXBKIsyuUYzJ5kKQ-l_PtvmXmP293VUm5JnYQdHHS7rV3kOKb7Xvu385JEbvNc0MHK8Ow",
    "e": "AQAB"
  },
  "contact": [
    "mailto:your-email@domain.com"
  ],
  "initialIp": "81.215.235.134",
  "createdAt": "2022-09-22T19:23:53.728879453Z",
  "status": "valid"
}
2022-09-22 19:23:53,921:DEBUG:acme.client:Storing nonce: 0102DJ9wQ2mibrAhtHJUMIgDN1gUzzOsf4JI-2lkGjULOcA
2022-09-22 19:23:53,922:DEBUG:certbot._internal.display.obj:Notifying user: Account registered.
2022-09-22 19:23:53,922:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0x7fb62ad74880>)>), contact=('mailto:your-email@domain.com',), agreement=None, status='valid', terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/744052787', new_authzr_uri=None, terms_of_service='https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf'), 203da7f941ed4be596168702629a689a, Meta(creation_dt=datetime.datetime(2022, 9, 22, 19, 23, 53, tzinfo=<UTC>), creation_host='4478fff3621c', register_to_eff=None))>
2022-09-22 19:23:53,922:DEBUG:certbot._internal.display.obj:Notifying user: Requesting a certificate for domain.com and www.domain.com
2022-09-22 19:23:54,095:DEBUG:certbot.crypto_util:Generating RSA key (2048 bits): /etc/letsencrypt/keys/0000_key-certbot.pem
2022-09-22 19:23:54,098:DEBUG:certbot.crypto_util:Creating CSR: /etc/letsencrypt/csr/0000_csr-certbot.pem
2022-09-22 19:23:54,099:DEBUG:acme.client:JWS payload:
b'{\n  "identifiers": [\n    {\n      "type": "dns",\n      "value": "domain.com"\n    },\n    {\n      "type": "dns",\n      "value": "www.domain.com"\n    }\n  ]\n}'
2022-09-22 19:23:54,100:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDJESjl3UTJtaWJyQWh0SEpVTUlnRE4xZ1V6ek9zZjRKSS0ybGtHalVMT2NBIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9uZXctb3JkZXIifQ",
  "signature": "knCeUYzsBKiZBe6iX53FsFnfAr-4tJQDiaIlKQAMUnFKe3EWiauznmLPG_ovqG15xER0MMnLsGmKYT1TuXVDKDEpjCC1AiIOhvBk3zVcxhRnYSbZTwn4Nx0nmwrDkDiy0Kt-x5Lz1ROB0KiDBaoumI6QuTdCQK6YOCL8SXUnC6f_6501BzvGZaTnAnNWg4YXz3bt_LRbhbLdUbIgXmgeRIIgYxK3P-W0n0TRUC7eIbK6RjQ-Uat3dhXtw_aREVnmYt85W8bpqmvDAB77mtAJaSxfN_3py59tS6cb2frG7xCJHCL6c9GS-TY53pFBfWItXz95ZLdh3uLUFw9CaBj2jg",
  "payload": "ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogImRvbWFpbi5jb20iCiAgICB9LAogICAgewogICAgICAidHlwZSI6ICJkbnMiLAogICAgICAidmFsdWUiOiAid3d3LmRvbWFpbi5jb20iCiAgICB9CiAgXQp9"
}
2022-09-22 19:23:54,493:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/new-order HTTP/1.1" 201 472
2022-09-22 19:23:54,494:DEBUG:acme.client:Received response:
HTTP 201
Server: nginx
Date: Thu, 22 Sep 2022 19:23:54 GMT
Content-Type: application/json
Content-Length: 472
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Location: https://acme-v02.api.letsencrypt.org/acme/order/744052787/127923905507
Replay-Nonce: 0101zPtRkUimluyhHeCboO_zcjvvKAm6Wa2YpfqgABWTp5I
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "status": "pending",
  "expires": "2022-09-29T19:23:54Z",
  "identifiers": [
    {
      "type": "dns",
      "value": "domain.com"
    },
    {
      "type": "dns",
      "value": "www.domain.com"
    }
  ],
  "authorizations": [
    "https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325697",
    "https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325707"
  ],
  "finalize": "https://acme-v02.api.letsencrypt.org/acme/finalize/744052787/127923905507"
}
2022-09-22 19:23:54,494:DEBUG:acme.client:Storing nonce: 0101zPtRkUimluyhHeCboO_zcjvvKAm6Wa2YpfqgABWTp5I
2022-09-22 19:23:54,495:DEBUG:acme.client:JWS payload:
b''
2022-09-22 19:23:54,496:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325697:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDF6UHRSa1VpbWx1eWhIZUNib09femNqdnZLQW02V2EyWXBmcWdBQldUcDVJIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9hdXRoei12My8xNTYzOTUzMjU2OTcifQ",
  "signature": "xHYhwj02MG7r_SBX-VvKMAHM6UCapPMdLTp5s_6CgF39_6n_uwk9uil9zORPNod-23GaceA2SteSjaFtlKLgUnzrfXCYbbSJSsQ3r14jkoQQNYFhZcLedZIFyyacNxAJxPV_zxXxJDH2w0uovtkoBQvQpHc1Ms3mzsqIo9ht2bLV5IwZBXylRfB_PS5scUGzjtdfmHPaB0GHK2Ec06seeE9laDYGKwoJAlh_L3GIkpWfuv92ZJmgc4VzCEHY6mhc4lFZh7xUl3Zg2X2n85s1NlY5WIsolNFkmvjyEzpFPcw2WCGuBuiA1kx4OjD11P1DX6-vaX3Dj12PiEuuiweZpw",
  "payload": ""
}
2022-09-22 19:23:54,747:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/156395325697 HTTP/1.1" 200 794
2022-09-22 19:23:54,748:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:54 GMT
Content-Type: application/json
Content-Length: 794
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0102Cf5FPso8Y_j03drbiqLSmSeyeOj3GqE8hbxKyXXlUmE
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "domain.com"
  },
  "status": "pending",
  "expires": "2022-09-29T19:23:54Z",
  "challenges": [
    {
      "type": "http-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/RiIWBg",
      "token": "C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk"
    },
    {
      "type": "dns-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/IPpUUA",
      "token": "C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk"
    },
    {
      "type": "tls-alpn-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/3DEG4w",
      "token": "C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk"
    }
  ]
}
2022-09-22 19:23:54,748:DEBUG:acme.client:Storing nonce: 0102Cf5FPso8Y_j03drbiqLSmSeyeOj3GqE8hbxKyXXlUmE
2022-09-22 19:23:54,748:DEBUG:acme.client:JWS payload:
b''
2022-09-22 19:23:54,749:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325707:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDJDZjVGUHNvOFlfajAzZHJiaXFMU21TZXllT2ozR3FFOGhieEt5WFhsVW1FIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9hdXRoei12My8xNTYzOTUzMjU3MDcifQ",
  "signature": "tCzwVf09Z5Ld9L664VB3QXpboHayxcyyWzZIB-b0kzVTDCb5frc3k0n5VhrU39JFvlSG8_1JKrzG545iUQ0laqAGc3v1g8tPgkZblUF5938Ui4jw_peRy6kPVdroNtUoMfU7e-1ZGSavkzBtJzCPqHVk3Gl4CecnMjB27IL-5GSwZWvKjM_bVB0A5okFCOpquZq1EdB6zEJ8AMNWJopIyujldWCEfyg05YYETTIo9WtqpcJP94XDBzRVAA5Ve-4KPr-6HVrRa74xAb3p8C6ECHI0-Z3l3J-X4FfahJCJIDiNEBhwHBt-j-zvl4neawNTYjwDudYV35-UPRlE5lbrmQ",
  "payload": ""
}
2022-09-22 19:23:55,047:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/156395325707 HTTP/1.1" 200 798
2022-09-22 19:23:55,047:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:54 GMT
Content-Type: application/json
Content-Length: 798
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0102wRGmaVnLG_b8HLZ1iRyBUztExgmtYt9eiSDHMa03t4Q
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "www.domain.com"
  },
  "status": "pending",
  "expires": "2022-09-29T19:23:54Z",
  "challenges": [
    {
      "type": "http-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/TIQvMw",
      "token": "p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI"
    },
    {
      "type": "dns-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/YtH-0w",
      "token": "p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI"
    },
    {
      "type": "tls-alpn-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/2pB1Zw",
      "token": "p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI"
    }
  ]
}
2022-09-22 19:23:55,047:DEBUG:acme.client:Storing nonce: 0102wRGmaVnLG_b8HLZ1iRyBUztExgmtYt9eiSDHMa03t4Q
2022-09-22 19:23:55,048:INFO:certbot._internal.auth_handler:Performing the following challenges:
2022-09-22 19:23:55,048:INFO:certbot._internal.auth_handler:http-01 challenge for domain.com
2022-09-22 19:23:55,048:INFO:certbot._internal.auth_handler:http-01 challenge for www.domain.com
2022-09-22 19:23:55,048:INFO:certbot._internal.plugins.webroot:Using the webroot path /var/www/certbot for all unmatched domains.
2022-09-22 19:23:55,048:DEBUG:certbot._internal.plugins.webroot:Creating root challenges validation dir at /var/www/certbot/.well-known/acme-challenge
2022-09-22 19:23:55,048:DEBUG:certbot._internal.plugins.webroot:Creating root challenges validation dir at /var/www/certbot/.well-known/acme-challenge
2022-09-22 19:23:55,049:DEBUG:certbot._internal.plugins.webroot:Attempting to save validation to /var/www/certbot/.well-known/acme-challenge/C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk
2022-09-22 19:23:55,049:DEBUG:certbot._internal.plugins.webroot:Attempting to save validation to /var/www/certbot/.well-known/acme-challenge/p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI
2022-09-22 19:23:55,049:DEBUG:acme.client:JWS payload:
b'{}'
2022-09-22 19:23:55,050:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/RiIWBg:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDJ3UkdtYVZuTEdfYjhITFoxaVJ5QlV6dEV4Z210WXQ5ZWlTREhNYTAzdDRRIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9jaGFsbC12My8xNTYzOTUzMjU2OTcvUmlJV0JnIn0",
  "signature": "b-wZOs_b45LE1a-djzHFn82IDyBsPTdWj1D5xA5l_USFmYvUYdpzwbk4ytgqbbOyeKKdqlZlGGCd7xcdZvJhoSKSWKevcjMyf_tndePjnwQmBulHP4zIPvsvb4Qr5b_v_1URop8s8WlR7lRZJqzl-lGDEtKu8KN2Ex4LdFFTEBik5oZ4iFI6XBdacrcFwfRqzIhHCrmganc-HJ9bDGsrDYSPGuiKcE9tIOCY5gHhwaSKljRiWNID5nOEridWJFe9R3yJ4AGz8j8Q_wiJsvCOjlM1smHSpz48Jm-ukdxpYAdxri0Thndlypm6yh7qx__2ks75SBk6FeyZCV3t8HLtyg",
  "payload": "e30"
}
2022-09-22 19:23:55,355:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/chall-v3/156395325697/RiIWBg HTTP/1.1" 200 187
2022-09-22 19:23:55,355:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:55 GMT
Content-Type: application/json
Content-Length: 187
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index", <https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325697>;rel="up"
Location: https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/RiIWBg
Replay-Nonce: 0102AlJf9kWbBeC8pGDok-pJpByZW6H6axW2wfZx5ik1kWc
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "type": "http-01",
  "status": "pending",
  "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/RiIWBg",
  "token": "C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk"
}
2022-09-22 19:23:55,355:DEBUG:acme.client:Storing nonce: 0102AlJf9kWbBeC8pGDok-pJpByZW6H6axW2wfZx5ik1kWc
2022-09-22 19:23:55,356:DEBUG:acme.client:JWS payload:
b'{}'
2022-09-22 19:23:55,357:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/TIQvMw:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDJBbEpmOWtXYkJlQzhwR0Rvay1wSnBCeVpXNkg2YXhXMndmWng1aWsxa1djIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9jaGFsbC12My8xNTYzOTUzMjU3MDcvVElRdk13In0",
  "signature": "jhLm1ZkMB7_K-NAGCFB1nS8tu7tkSXZS-i53FVKz2YArwfx0JNlj_Z0mMM2Rn15C-lWRs0hWUC0A8UPKOaSsk6OKZZ76l-Q83UgxjEd_XaVAVrQU7wm-lH-SqQSBETRAKAiFA5UD6dYKz3IGgap-KgpRToidwLlz4NWZCaCJjeR7C1yqrFfP51gGNPauTfuxwD_sWt2JoCcqPa6E_Rai_FF5hOnxjxt5lvkjeGCVGlf0FSp3rGw3avGQymSr6t9hyunTNoilTlu-chXDQGx7opQ1db5UGk4CTYLTaJbei1vGtsCBP42iKdeK4X13jV6808Tf6PaGTk0ohjj3eSmMmA",
  "payload": "e30"
}
2022-09-22 19:23:55,663:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/chall-v3/156395325707/TIQvMw HTTP/1.1" 200 187
2022-09-22 19:23:55,663:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:55 GMT
Content-Type: application/json
Content-Length: 187
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index", <https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325707>;rel="up"
Location: https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/TIQvMw
Replay-Nonce: 0101rQ00kEVg7iRRw9JTCfzIEjq3EclejVxtA-jCmoqYW98
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "type": "http-01",
  "status": "pending",
  "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/TIQvMw",
  "token": "p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI"
}
2022-09-22 19:23:55,663:DEBUG:acme.client:Storing nonce: 0101rQ00kEVg7iRRw9JTCfzIEjq3EclejVxtA-jCmoqYW98
2022-09-22 19:23:55,663:INFO:certbot._internal.auth_handler:Waiting for verification...
2022-09-22 19:23:56,664:DEBUG:acme.client:JWS payload:
b''
2022-09-22 19:23:56,666:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325697:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDFyUTAwa0VWZzdpUlJ3OUpUQ2Z6SUVqcTNFY2xlalZ4dEEtakNtb3FZVzk4IiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9hdXRoei12My8xNTYzOTUzMjU2OTcifQ",
  "signature": "r8WFGs02ILPqoNxgO6KXM5P94l2hCtIf6L8IMXrDyxrYRDftz2goQl2EMg_Qs7m80vFlyRmFzt8OF-hdkIMBeG3dgHjF6PRltXITBdwQZOTgnySvCprBB77-2LZKlzUTrmWzB1B2SmqJP9oInC994Snb3c-tGof7cRj5Kzl6mbbPLG8GBzbY_jCsExkBVyHx7zv0orLFsTw7mANN8t6t-fvaKrNq61eTaupoQ_oyISRIF3toCwomQGTuDMeF3UtUA5F1rKQKLWGsSLnf6Y1ymgc_g6w1p8ssJbyFL6eS2DiExU1svWiJn3OIVHOqXaKFCq1c6bZOm0i4FG1wufH3Tg",
  "payload": ""
}
2022-09-22 19:23:56,890:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/156395325697 HTTP/1.1" 200 1957
2022-09-22 19:23:56,890:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:56 GMT
Content-Type: application/json
Content-Length: 1957
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0101gHO-HSo9qa3n8roMabSCuEDW2wkzTSPu4MTPeYpgOtM
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "domain.com"
  },
  "status": "invalid",
  "expires": "2022-09-29T19:23:54Z",
  "challenges": [
    {
      "type": "http-01",
      "status": "invalid",
      "error": {
        "type": "urn:ietf:params:acme:error:unauthorized",
        "detail": "18.221.195.49: Invalid response from https://www.domain.com/?: \"\u003c!DOCTYPE html\u003e\u003chtml lang=\\\"en\\\"\u003e\u003chead\u003e\u003cscript\u003edataLayer = [{\\\"pageApplication\\\":\\\"front_of_site\\\",\\\"pageType\\\":\\\"homepage\\\",\\\"pageClass\\\":\\\"\"",
        "status": 403
      },
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325697/RiIWBg",
      "token": "C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk",
      "validationRecord": [
        {
          "url": "http://domain.com/.well-known/acme-challenge/C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk",
          "hostname": "domain.com",
          "port": "80",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "https://www.domain.com/.well-known/acme-challenge/C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk",
          "hostname": "www.domain.com",
          "port": "443",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "http://www.domain.com/?",
          "hostname": "www.domain.com",
          "port": "80",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "https://www.domain.com/?",
          "hostname": "www.domain.com",
          "port": "443",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        }
      ],
      "validated": "2022-09-22T19:23:55Z"
    }
  ]
}
2022-09-22 19:23:56,891:DEBUG:acme.client:Storing nonce: 0101gHO-HSo9qa3n8roMabSCuEDW2wkzTSPu4MTPeYpgOtM
2022-09-22 19:23:56,891:DEBUG:acme.client:JWS payload:
b''
2022-09-22 19:23:56,892:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/156395325707:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvNzQ0MDUyNzg3IiwgIm5vbmNlIjogIjAxMDFnSE8tSFNvOXFhM244cm9NYWJTQ3VFRFcyd2t6VFNQdTRNVFBlWXBnT3RNIiwgInVybCI6ICJodHRwczovL2FjbWUtdjAyLmFwaS5sZXRzZW5jcnlwdC5vcmcvYWNtZS9hdXRoei12My8xNTYzOTUzMjU3MDcifQ",
  "signature": "EkiSXpP8CTyZHxVyv3ebrfC8Q-57eQx3BPYEdSr3YEzYp943u5FaOu_6ebXvgnRx4ojPQUOPvcBZY_5YH_mro8u5Ow44chLCovb-q3G2OCcElT0EFT-hRnJcrQHvmeS1UNJpAHe3kcdZPu5m2mJgQPe36c97ekn2W7pMUzId7cjCYZ8hbBF2z4VogylpLA7Y5KA_QO8LjcbNBiRtZ25fwazwaeX_GXRcVK-p0EgCeCPVxgNjI5iDIvo0V1KfdDUUdkTl85xHpi0b-BFiEeuZpYoZwAlsDxl7AgRZnvAz4bILok4OQam4uPCsVUHMlRicC-3NwS-Omt-KyqghJ2DJCQ",
  "payload": ""
}
2022-09-22 19:23:57,197:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/156395325707 HTTP/1.1" 200 1969
2022-09-22 19:23:57,198:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Thu, 22 Sep 2022 19:23:56 GMT
Content-Type: application/json
Content-Length: 1969
Connection: keep-alive
Boulder-Requester: 744052787
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 01021ohzGb4cY36JmMYcjlW0Kdp9mxn9QnSg51MDo84NYAM
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "www.domain.com"
  },
  "status": "invalid",
  "expires": "2022-09-29T19:23:54Z",
  "challenges": [
    {
      "type": "http-01",
      "status": "invalid",
      "error": {
        "type": "urn:ietf:params:acme:error:unauthorized",
        "detail": "18.221.195.49: Invalid response from https://www.domain.com/?: \"\u003c!DOCTYPE html\u003e\u003chtml lang=\\\"en\\\"\u003e\u003chead\u003e\u003cscript\u003edataLayer = [{\\\"pageApplication\\\":\\\"front_of_site\\\",\\\"pageType\\\":\\\"homepage\\\",\\\"pageClass\\\":\\\"\"",
        "status": 403
      },
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/156395325707/TIQvMw",
      "token": "p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI",
      "validationRecord": [
        {
          "url": "http://www.domain.com/.well-known/acme-challenge/p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI",
          "hostname": "www.domain.com",
          "port": "80",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "https://www.domain.com/.well-known/acme-challenge/p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI",
          "hostname": "www.domain.com",
          "port": "443",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "http://www.domain.com/?",
          "hostname": "www.domain.com",
          "port": "80",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        },
        {
          "url": "https://www.domain.com/?",
          "hostname": "www.domain.com",
          "port": "443",
          "addressesResolved": [
            "18.221.195.49"
          ],
          "addressUsed": "18.221.195.49"
        }
      ],
      "validated": "2022-09-22T19:23:55Z"
    }
  ]
}
2022-09-22 19:23:57,198:DEBUG:acme.client:Storing nonce: 01021ohzGb4cY36JmMYcjlW0Kdp9mxn9QnSg51MDo84NYAM
2022-09-22 19:23:57,198:INFO:certbot._internal.auth_handler:Challenge failed for domain domain.com
2022-09-22 19:23:57,198:INFO:certbot._internal.auth_handler:Challenge failed for domain www.domain.com
2022-09-22 19:23:57,198:INFO:certbot._internal.auth_handler:http-01 challenge for domain.com
2022-09-22 19:23:57,198:INFO:certbot._internal.auth_handler:http-01 challenge for www.domain.com
2022-09-22 19:23:57,198:DEBUG:certbot._internal.display.obj:Notifying user: 
Certbot failed to authenticate some domains (authenticator: webroot). The Certificate Authority reported these problems:
  Domain: domain.com
  Type:   unauthorized
  Detail: 18.221.195.49: Invalid response from https://www.domain.com/?: "<!DOCTYPE html><html lang=\"en\"><head><script>dataLayer = [{\"pageApplication\":\"front_of_site\",\"pageType\":\"homepage\",\"pageClass\":\""

  Domain: www.domain.com
  Type:   unauthorized
  Detail: 18.221.195.49: Invalid response from https://www.domain.com/?: "<!DOCTYPE html><html lang=\"en\"><head><script>dataLayer = [{\"pageApplication\":\"front_of_site\",\"pageType\":\"homepage\",\"pageClass\":\""

Hint: The Certificate Authority failed to download the temporary challenge files created by Certbot. Ensure that the listed domains serve their content from the provided --webroot-path/-w and that files created there can be downloaded from the internet.

2022-09-22 19:23:57,199:DEBUG:certbot._internal.error_handler:Encountered exception:
Traceback (most recent call last):
  File "/opt/certbot/src/certbot/certbot/_internal/auth_handler.py", line 106, in handle_authorizations
    self._poll_authorizations(authzrs, max_retries, best_effort)
  File "/opt/certbot/src/certbot/certbot/_internal/auth_handler.py", line 206, in _poll_authorizations
    raise errors.AuthorizationError('Some challenges have failed.')
certbot.errors.AuthorizationError: Some challenges have failed.

2022-09-22 19:23:57,199:DEBUG:certbot._internal.error_handler:Calling registered functions
2022-09-22 19:23:57,199:INFO:certbot._internal.auth_handler:Cleaning up challenges
2022-09-22 19:23:57,199:DEBUG:certbot._internal.plugins.webroot:Removing /var/www/certbot/.well-known/acme-challenge/C3GbvPV-oWnxLwHxA7WwelmIqlkUTYoe_DtfDlz1JVk
2022-09-22 19:23:57,199:DEBUG:certbot._internal.plugins.webroot:Removing /var/www/certbot/.well-known/acme-challenge/p7MMIgYp754cOUjn1qe04T-KUvmg7bNauXNTsJFm6oI
2022-09-22 19:23:57,199:DEBUG:certbot._internal.plugins.webroot:All challenges cleaned up
2022-09-22 19:23:57,199:DEBUG:certbot._internal.log:Exiting abnormally:
Traceback (most recent call last):
  File "/usr/local/bin/certbot", line 33, in <module>
    sys.exit(load_entry_point('certbot', 'console_scripts', 'certbot')())
  File "/opt/certbot/src/certbot/certbot/main.py", line 19, in main
    return internal_main.main(cli_args)
  File "/opt/certbot/src/certbot/certbot/_internal/main.py", line 1744, in main
    return config.func(config, plugins)
  File "/opt/certbot/src/certbot/certbot/_internal/main.py", line 1591, in certonly
    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)
  File "/opt/certbot/src/certbot/certbot/_internal/main.py", line 141, in _get_and_save_cert
    lineage = le_client.obtain_and_enroll_certificate(domains, certname)
  File "/opt/certbot/src/certbot/certbot/_internal/client.py", line 530, in obtain_and_enroll_certificate
    cert, chain, key, _ = self.obtain_certificate(domains)
  File "/opt/certbot/src/certbot/certbot/_internal/client.py", line 442, in obtain_certificate
    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)
  File "/opt/certbot/src/certbot/certbot/_internal/client.py", line 510, in _get_order_and_authorizations
    authzr = self.auth_handler.handle_authorizations(orderr, self.config, best_effort)
  File "/opt/certbot/src/certbot/certbot/_internal/auth_handler.py", line 106, in handle_authorizations
    self._poll_authorizations(authzrs, max_retries, best_effort)
  File "/opt/certbot/src/certbot/certbot/_internal/auth_handler.py", line 206, in _poll_authorizations
    raise errors.AuthorizationError('Some challenges have failed.')
certbot.errors.AuthorizationError: Some challenges have failed.
2022-09-22 19:23:57,200:ERROR:certbot._internal.log:Some challenges have failed.
